{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n  const APIKEY = '46229228-83a12c4f45cb396a8637e93cb';\n  const URL = `https://pixabay.com/api/?key=${APIKEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(URL)\n    .then(response => response.json())\n    .then(data => data.hits)\n    .catch(error => {\n      console.error('Error:', error);\n      return [];\n    });\n}","export function renderImages(images) {\n  const gallery = document.querySelector(\".gallery\");\n  gallery.innerHTML = \"\";\n\n  const markup = images.map(image => `\n    <li class=\"gallery-item\">\n      <div class=\"info-container\">\n        <a href=\"${image.largeImageURL}\" class=\"link\">\n        \n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"info\">\n          <p class=\"info-item\"><span class=\"name-info\">Likes</span> ${image.likes}</p>\n          <p class=\"info-item\"><span class=\"name-info\">Views</span> ${image.views}</p>\n          <p class=\"info-item\"><span class=\"name-info\">Comments</span> ${image.comments}</p>\n          <p class=\"info-item\"><span class=\"name-info\">Downloads</span> ${image.downloads}</p>\n        </div>\n      </div>\n    </li>\n  `).join('');  \n\n  gallery.innerHTML = markup;\n}\n\n","import { fetchImages } from \"./js/pixabay-api\";\nimport { renderImages } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\"#form-input\");\nconst gallery = document.querySelector(\".gallery\");\nconst loading = document.querySelector(\"#loadingId\");\n\nlet lightbox;\n\nfunction showLoader() {\n  loading.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loading.classList.add('hidden');\n}\n\nform.addEventListener(\"submit\", event => {\n  event.preventDefault();\n  const query = document.querySelector('input[name = \"Search\"]').value.trim();\n  \n  if (query === '') {\n    iziToast.error({\n      message: 'Please enter a search term.',\n      position: 'topCenter',\n    });\n    gallery.innerHTML = '';\n    form.reset();\n    return;\n  }\n\n  showLoader();\n\n  fetchImages(query)\n  .then(images => {\n    hideLoader();\n\n    if (images.length === 0) {\n      iziToast.error({\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topCenter',\n     });\n     gallery.innerHTML = '';\n     form.reset();\n    } else {\n      gallery.innerHTML = '';\n      renderImages(images); \n      \n      if (lightbox) {\n        lightbox.destroy();\n      }\n\n      lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: \"alt\",\n        captionPosition: \"bottom\",\n        captionDelay: 250,\n      });\n      }\n      form.reset();\n  })\n  .catch(error => {\n    hideLoader();\n\n    iziToast.error({\n      message: 'Something went wrong, please try again later.',\n      position: 'topCenter',\n    });\n    gallery.innerHTML = '';\n    form.reset();\n  })\n});"],"names":["fetchImages","query","URL","response","data","error","renderImages","images","gallery","markup","image","form","loading","lightbox","showLoader","hideLoader","event","iziToast","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAEjC,MAAMC,EAAM,qEAA4C,mBAAmBD,CAAK,CAAC,2DAEjF,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,IACL,QAAQ,MAAM,SAAUA,CAAK,EACtB,GACR,CACL,CCXO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAASF,EAAO,IAAIG,GAAS;AAAA;AAAA;AAAA,mBAGlBA,EAAM,aAAa;AAAA;AAAA,sBAEhBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,sEAGUA,EAAM,KAAK;AAAA,sEACXA,EAAM,KAAK;AAAA,yEACRA,EAAM,QAAQ;AAAA,0EACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAItF,EAAE,KAAK,EAAE,EAEVF,EAAQ,UAAYC,CACtB,CCfA,MAAME,EAAO,SAAS,cAAc,aAAa,EAC3CH,EAAU,SAAS,cAAc,UAAU,EAC3CI,EAAU,SAAS,cAAc,YAAY,EAEnD,IAAIC,EAEJ,SAASC,GAAa,CACpBF,EAAQ,UAAU,OAAO,QAAQ,CACnC,CAEA,SAASG,GAAa,CACpBH,EAAQ,UAAU,IAAI,QAAQ,CAChC,CAEAD,EAAK,iBAAiB,SAAUK,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMf,EAAQ,SAAS,cAAc,wBAAwB,EAAE,MAAM,OAErE,GAAIA,IAAU,GAAI,CAChBgB,EAAS,MAAM,CACb,QAAS,8BACT,SAAU,WAChB,CAAK,EACDT,EAAQ,UAAY,GACpBG,EAAK,MAAK,EACV,MACD,CAEDG,IAEAd,EAAYC,CAAK,EAChB,KAAKM,GAAU,CACdQ,IAEIR,EAAO,SAAW,GACpBU,EAAS,MAAM,CACf,QAAS,2EACT,SAAU,WAChB,CAAM,EACDT,EAAQ,UAAY,GACpBG,EAAK,MAAK,IAETH,EAAQ,UAAY,GACpBF,EAAaC,CAAM,EAEfM,GACFA,EAAS,QAAO,EAGlBA,EAAW,IAAIK,EAAe,aAAc,CAC1C,aAAc,MACd,gBAAiB,SACjB,aAAc,GACtB,CAAO,GAEDP,EAAK,MAAK,CAChB,CAAG,EACA,MAAMN,GAAS,CACdU,IAEAE,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,WAChB,CAAK,EACDT,EAAQ,UAAY,GACpBG,EAAK,MAAK,CACd,CAAG,CACH,CAAC"}